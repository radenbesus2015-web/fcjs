(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,305622,e=>{"use strict";var t=e.i(843476),a=e.i(271645);let n=(0,a.createContext)(null);function r({children:e,defaultTheme:r="light",storageKey:i="app-theme"}){let[s,l]=(0,a.useState)(r);(0,a.useEffect)(()=>{try{let e=localStorage.getItem("settings");if(e){let t=JSON.parse(e);if("light"===t.theme||"dark"===t.theme)return void l(t.theme)}}catch(e){console.warn("Failed to load theme from settings",e)}let e=localStorage.getItem(i);e&&("light"===e||"dark"===e)&&l(e)},[i]),(0,a.useEffect)(()=>{let e=document.documentElement;e.classList.remove("light","dark"),e.classList.add(s),localStorage.setItem(i,s);try{let e=localStorage.getItem("settings")||"{}",t=JSON.parse(e);t.theme=s,localStorage.setItem("settings",JSON.stringify(t))}catch(e){console.warn("Failed to save theme to settings",e)}},[s,i]),(0,a.useEffect)(()=>{let e=()=>{try{let e=localStorage.getItem("settings");if(e){let t=JSON.parse(e);t.theme&&t.theme!==s&&l(t.theme)}}catch(e){console.warn("Failed to sync theme from settings",e)}};window.addEventListener("storage",e);let t=setInterval(e,500);return()=>{window.removeEventListener("storage",e),clearInterval(t)}},[s]);let o="dark"===s;return(0,t.jsx)(n.Provider,{value:{theme:s,setTheme:e=>{l(e)},toggleTheme:()=>{l(e=>"light"===e?"dark":"light")},isDark:o},children:e})}function i(){let e=(0,a.useContext)(n);if(!e)throw Error("useTheme must be used within a ThemeProvider");return e}e.s(["ThemeProvider",()=>r,"useTheme",()=>i])},330009,e=>{"use strict";var t=e.i(843476),a=e.i(271645),n=e.i(30030),r=e.i(820783),i=e.i(326999),s=e.i(981140),l=e.i(991918),o="AlertDialog",[d,c]=(0,n.createContextScope)(o,[i.createDialogScope]),u=(0,i.createDialogScope)(),m=e=>{let{__scopeAlertDialog:a,...n}=e,r=u(a);return(0,t.jsx)(i.Root,{...r,...n,modal:!0})};m.displayName=o,a.forwardRef((e,a)=>{let{__scopeAlertDialog:n,...r}=e,s=u(n);return(0,t.jsx)(i.Trigger,{...s,...r,ref:a})}).displayName="AlertDialogTrigger";var f=e=>{let{__scopeAlertDialog:a,...n}=e,r=u(a);return(0,t.jsx)(i.Portal,{...r,...n})};f.displayName="AlertDialogPortal";var h=a.forwardRef((e,a)=>{let{__scopeAlertDialog:n,...r}=e,s=u(n);return(0,t.jsx)(i.Overlay,{...s,...r,ref:a})});h.displayName="AlertDialogOverlay";var p="AlertDialogContent",[g,x]=d(p),b=(0,l.createSlottable)("AlertDialogContent"),v=a.forwardRef((e,n)=>{let{__scopeAlertDialog:l,children:o,...d}=e,c=u(l),m=a.useRef(null),f=(0,r.useComposedRefs)(n,m),h=a.useRef(null);return(0,t.jsx)(i.WarningProvider,{contentName:p,titleName:y,docsSlug:"alert-dialog",children:(0,t.jsx)(g,{scope:l,cancelRef:h,children:(0,t.jsxs)(i.Content,{role:"alertdialog",...c,...d,ref:f,onOpenAutoFocus:(0,s.composeEventHandlers)(d.onOpenAutoFocus,e=>{e.preventDefault(),h.current?.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,t.jsx)(b,{children:o}),(0,t.jsx)(F,{contentRef:m})]})})})});v.displayName=p;var y="AlertDialogTitle",j=a.forwardRef((e,a)=>{let{__scopeAlertDialog:n,...r}=e,s=u(n);return(0,t.jsx)(i.Title,{...s,...r,ref:a})});j.displayName=y;var w="AlertDialogDescription",N=a.forwardRef((e,a)=>{let{__scopeAlertDialog:n,...r}=e,s=u(n);return(0,t.jsx)(i.Description,{...s,...r,ref:a})});N.displayName=w;var k=a.forwardRef((e,a)=>{let{__scopeAlertDialog:n,...r}=e,s=u(n);return(0,t.jsx)(i.Close,{...s,...r,ref:a})});k.displayName="AlertDialogAction";var A="AlertDialogCancel",S=a.forwardRef((e,a)=>{let{__scopeAlertDialog:n,...s}=e,{cancelRef:l}=x(A,n),o=u(n),d=(0,r.useComposedRefs)(a,l);return(0,t.jsx)(i.Close,{...o,...s,ref:d})});S.displayName=A;var F=({contentRef:e})=>{let t=`\`${p}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${p}\` by passing a \`${w}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${p}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return a.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},C=e.i(647163);let D=a.forwardRef(({className:e,...a},n)=>(0,t.jsx)(h,{className:(0,C.cn)("fixed inset-0 z-50 bg-transparent data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a,ref:n}));D.displayName=h.displayName;let K=a.forwardRef(({className:e,...a},n)=>(0,t.jsxs)(f,{children:[(0,t.jsx)(D,{}),(0,t.jsx)(v,{ref:n,className:(0,C.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a})]}));K.displayName=v.displayName;let P=({className:e,...a})=>(0,t.jsx)("div",{className:(0,C.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...a});P.displayName="AlertDialogHeader";let M=({className:e,...a})=>(0,t.jsx)("div",{className:(0,C.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...a});M.displayName="AlertDialogFooter";let E=a.forwardRef(({className:e,...a},n)=>(0,t.jsx)(j,{ref:n,className:(0,C.cn)("text-lg font-semibold",e),...a}));E.displayName=j.displayName;let R=a.forwardRef(({className:e,...a},n)=>(0,t.jsx)(N,{ref:n,className:(0,C.cn)("text-sm text-muted-foreground",e),...a}));R.displayName=N.displayName;let T=a.forwardRef(({className:e,...a},n)=>(0,t.jsx)(k,{ref:n,className:(0,C.cn)("inline-flex h-10 items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-semibold text-primary-foreground ring-offset-background transition-colors hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...a}));T.displayName=k.displayName;let I=a.forwardRef(({className:e,...a},n)=>(0,t.jsx)(S,{ref:n,className:(0,C.cn)("mt-2 inline-flex h-10 items-center justify-center rounded-md border border-input bg-background px-4 py-2 text-sm font-semibold ring-offset-background transition-colors hover:bg-accent hover:text-accent-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 sm:mt-0",e),...a}));I.displayName=S.displayName,e.s(["AlertDialog",()=>m,"AlertDialogAction",()=>T,"AlertDialogCancel",()=>I,"AlertDialogContent",()=>K,"AlertDialogDescription",()=>R,"AlertDialogFooter",()=>M,"AlertDialogHeader",()=>P,"AlertDialogTitle",()=>E],330009)},923704,e=>{"use strict";var t=e.i(843476),a=e.i(167881),n=e.i(70051),r=e.i(394315),i=e.i(330009);function s(){let{currentConfirm:e,resolveCurrentConfirm:s}=(0,r.useConfirmDialogState)();if(!e)return null;let{options:l}=e,o=()=>{s(!1)};return(0,t.jsx)(i.AlertDialog,{open:!!e,onOpenChange:e=>{e||s(!1)},children:(0,t.jsxs)(i.AlertDialogContent,{children:[(0,t.jsx)(i.AlertDialogHeader,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(i.AlertDialogTitle,{children:l.title}),l.description&&(0,t.jsx)(i.AlertDialogDescription,{children:l.description})]}),(0,t.jsx)(a.Button,{type:"button",variant:"ghost",size:"icon",onClick:o,"aria-label":"Close",children:(0,t.jsx)(n.Icon,{name:"X",className:"h-4 w-4"})})]})}),(0,t.jsxs)(i.AlertDialogFooter,{children:[(0,t.jsx)(i.AlertDialogCancel,{onClick:o,children:l.cancelText}),(0,t.jsx)(i.AlertDialogAction,{onClick:()=>{s(!0)},children:l.confirmText})]})]})})}e.s(["GlobalConfirm",()=>s])},510009,e=>{"use strict";var t=e.i(843476),a=e.i(469701),n=e.i(567150),r=e.i(167881),i=e.i(70051),s=e.i(305622),l=e.i(330009);function o(){let{t:e,setLocale:o}=(0,a.useI18n)(),{setTheme:d}=(0,s.useTheme)(),{modalOpen:c,closeModal:u,form:m,setForm:f,submit:h,reset:p,languageOptions:g}=(0,n.useSettings)(),x=(t,a)=>e(`settings.${t}`,a);return(0,t.jsx)(l.AlertDialog,{open:c,onOpenChange:e=>!e&&u(),children:(0,t.jsxs)(l.AlertDialogContent,{className:"fixed left-1/2 top-1/2 z-50 grid w-full max-w-2xl -translate-x-1/2 -translate-y-1/2 gap-4 border bg-background p-6 shadow-lg duration-200 focus:outline-none max-h-[90vh] overflow-hidden",children:[(0,t.jsx)(l.AlertDialogHeader,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between gap-4 border-b pb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground uppercase tracking-widest",children:x("breadcrumb","Preferensi")}),(0,t.jsx)(l.AlertDialogTitle,{className:"text-xl font-semibold",children:x("title","Pengaturan Tampilan & Kualitas")})]}),(0,t.jsx)(r.Button,{type:"button",variant:"ghost",size:"icon",onClick:u,"aria-label":x("actions.close","Tutup"),children:(0,t.jsx)(i.Icon,{name:"X",className:"h-4 w-4"})})]})}),(0,t.jsx)("div",{className:"max-h-[70vh] overflow-y-auto pr-2",children:(0,t.jsxs)("form",{className:"space-y-6",onSubmit:e=>{e.preventDefault(),o(m.language),("light"===m.theme||"dark"===m.theme)&&d(m.theme),h()},children:[(0,t.jsxs)("section",{className:"space-y-3",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-muted-foreground",children:x("language.title","Bahasa")}),(0,t.jsxs)("label",{className:"space-y-2 block",children:[(0,t.jsx)("select",{value:m.language,onChange:e=>f({...m,language:e.target.value}),className:"flex h-9 w-full rounded-md border bg-background px-3 py-1 text-sm",children:g.map(e=>(0,t.jsx)("option",{value:e.code,children:x(`language.options.${e.code}`,e.label??e.code.toUpperCase())},e.code))}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:x("language.help","Mengatur bahasa antarmuka. Default: Bahasa Indonesia.")})]})]}),(0,t.jsxs)("section",{className:"space-y-3",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-muted-foreground",children:x("theme.title","Tema")}),(0,t.jsxs)("div",{className:"grid gap-3 grid-cols-2",children:[(0,t.jsxs)("label",{className:`inline-flex items-center justify-center gap-2 rounded-md border px-4 py-2 text-sm font-medium cursor-pointer ${"light"===m.theme?"bg-accent text-accent-foreground":""}`,children:[(0,t.jsx)("input",{type:"radio",value:"light",checked:"light"===m.theme,onChange:e=>{let t=e.target.value;f({...m,theme:t})},className:"sr-only"}),(0,t.jsx)(i.Icon,{name:"Sun",className:"text-base"}),(0,t.jsx)("span",{children:x("theme.light","Terang")})]}),(0,t.jsxs)("label",{className:`inline-flex items-center justify-center gap-2 rounded-md border px-4 py-2 text-sm font-medium cursor-pointer ${"dark"===m.theme?"bg-accent text-accent-foreground":""}`,children:[(0,t.jsx)("input",{type:"radio",value:"dark",checked:"dark"===m.theme,onChange:e=>{let t=e.target.value;f({...m,theme:t})},className:"sr-only"}),(0,t.jsx)(i.Icon,{name:"Moon",className:"text-base"}),(0,t.jsx)("span",{children:x("theme.dark","Gelap")})]})]})]}),(0,t.jsxs)("section",{className:"space-y-3",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-muted-foreground",children:x("attendance.title","Streaming Absensi")}),(0,t.jsxs)("div",{className:"grid gap-4 grid-cols-2",children:[(0,t.jsxs)("label",{className:"space-y-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:x("attendance.width.label","Lebar Kirim (px)")}),(0,t.jsx)("input",{type:"number",min:"120",max:"1920",value:m.attendanceSendWidth,onChange:e=>f({...m,attendanceSendWidth:Number(e.target.value)}),className:"flex h-9 w-full rounded-md border bg-background px-3 py-1 text-sm"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:x("attendance.width.help","Mengatur resolusi frame untuk absensi.")})]}),(0,t.jsxs)("label",{className:"space-y-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:x("attendance.jpeg.label","Kualitas JPEG")}),(0,t.jsx)("input",{type:"number",step:"0.05",min:"0.1",max:"1",value:m.attendanceJpegQuality,onChange:e=>f({...m,attendanceJpegQuality:Number(e.target.value)}),className:"flex h-9 w-full rounded-md border bg-background px-3 py-1 text-sm"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:x("attendance.jpeg.help","Antara 0.1 - 1.0. Nilai tinggi lebih tajam namun ukuran data lebih besar.")})]})]})]}),(0,t.jsxs)("section",{className:"space-y-3",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-muted-foreground",children:x("funMeter.title","Streaming Fun Meter")}),(0,t.jsxs)("div",{className:"grid gap-4 grid-cols-2",children:[(0,t.jsxs)("label",{className:"space-y-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:x("funMeter.width.label","Lebar Kirim (px)")}),(0,t.jsx)("input",{type:"number",min:"160",max:"1920",value:m.funSendWidth,onChange:e=>f({...m,funSendWidth:Number(e.target.value)}),className:"flex h-9 w-full rounded-md border bg-background px-3 py-1 text-sm"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:x("funMeter.width.help","Mengatur resolusi frame untuk analisis emosi.")})]}),(0,t.jsxs)("label",{className:"space-y-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:x("funMeter.jpeg.label","Kualitas JPEG")}),(0,t.jsx)("input",{type:"number",step:"0.05",min:"0.1",max:"1",value:m.funJpegQuality,onChange:e=>f({...m,funJpegQuality:Number(e.target.value)}),className:"flex h-9 w-full rounded-md border bg-background px-3 py-1 text-sm"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:x("funMeter.jpeg.help","Antara 0.1 - 1.0. Nilai tinggi lebih tajam namun ukuran data lebih besar.")})]}),(0,t.jsxs)("label",{className:"space-y-2 col-span-full",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:x("funMeter.interval.label","Interval Attendance & FunMeter (ms)")}),(0,t.jsx)("input",{type:"number",min:"10",max:"5000",value:m.baseInterval,onChange:e=>f({...m,baseInterval:Number(e.target.value)}),className:"flex h-9 w-full rounded-md border bg-background px-3 py-1 text-sm"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:x("funMeter.interval.help","Default: 200. Jeda antar frame ke server attendance.")})]})]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap justify-end gap-3",children:[(0,t.jsx)(r.Button,{type:"button",variant:"outline",onClick:p,children:x("actions.reset","Atur Ulang ke Bawaan")}),(0,t.jsx)(r.Button,{type:"button",variant:"outline",onClick:u,children:x("actions.cancel","Batal")}),(0,t.jsx)(r.Button,{type:"submit",children:x("actions.save","Simpan")})]})]})})]})})}e.s(["SettingsModal",()=>o])},716615,e=>{"use strict";var t=e.i(843476),a=e.i(271645),n=e.i(977324),r=e.i(469701),i=e.i(167881),s=e.i(330009),l=e.i(70051),o=e.i(554858);function d(){let{t:e}=(0,r.useI18n)(),{showModal:d,closeModal:c,login:u,status:m}=(0,n.useAuth)(),[f,h]=(0,a.useState)("login"),[p,g]=(0,a.useState)(""),[x,b]=(0,a.useState)(""),[v,y]=(0,a.useState)(""),[j,w]=(0,a.useState)(""),[N,k]=(0,a.useState)({}),A=(0,a.useRef)(null),S=(0,a.useRef)(null),F="loading"===m,C=async t=>{let a;if(t.preventDefault(),w(""),a={},p.trim()||(a.username=e("auth.validation.usernameRequired","Nama pengguna wajib diisi")),x||(a.password=e("auth.validation.passwordRequired","Kata sandi wajib diisi")),"register"===f&&(v?x!==v&&(a.confirmPassword=e("auth.validation.passwordMismatch","Konfirmasi kata sandi tidak sama")):a.confirmPassword=e("auth.validation.confirmPasswordRequired","Konfirmasi kata sandi wajib diisi")),k(a),0===Object.keys(a).length)try{"login"===f?(await u({email:p.trim(),password:x}),b("")):(await o.api.post("/auth/register",{username:p.trim(),password:x}),await u({email:p.trim(),password:x}),b(""),y(""))}catch(t){w(t?.message||("login"===f?e("auth.errors.loginFailed","Gagal masuk"):e("auth.errors.registerFailed","Gagal mendaftar")))}};return(0,a.useEffect)(()=>{if(d){let e=window.setTimeout(()=>S.current?.focus(),0),t=e=>{if("Enter"!==e.key)return;let t=e.target,a=["input","textarea","select","button"].includes((t?.tagName||"").toLowerCase())||t?.isContentEditable,n=t?.getAttribute?.("role")==="button"||t?.getAttribute?.("role")==="tab";a||n||(e.preventDefault(),A.current?.requestSubmit())};return window.addEventListener("keydown",t),()=>{window.clearTimeout(e),window.removeEventListener("keydown",t)}}},[d]),(0,a.useEffect)(()=>{k({}),w(""),"login"===f&&y("")},[f]),(0,t.jsx)(s.AlertDialog,{open:d,onOpenChange:e=>!e&&c(),children:(0,t.jsx)(s.AlertDialogContent,{className:"fixed left-1/2 top-1/2 z-50 grid w-full max-w-3xl -translate-x-1/2 -translate-y-1/2 gap-0 border bg-background p-0 shadow-lg duration-200 focus:outline-none overflow-hidden data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=open]:fade-in-0 data-[state=closed]:fade-out-0 data-[state=open]:zoom-in-95 data-[state=closed]:zoom-out-95 data-[state=open]:slide-in-from-top-4 data-[state=closed]:slide-out-to-top-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2",children:[(0,t.jsxs)("div",{className:"relative p-6 md:p-8 bg-background min-h-[360px] md:min-h-[420px] flex flex-col",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-lg font-semibold",children:[(0,t.jsx)("div",{className:"h-9 w-9 rounded-full grid place-items-center bg-orange-500 text-white",children:(0,t.jsx)(l.Icon,{name:"Smile",className:"h-5 w-5"})}),(0,t.jsx)("span",{children:e("brand.title","Absensi Wajah")})]}),(0,t.jsx)("div",{className:"flex-1 grid place-items-center",children:(0,t.jsxs)("div",{className:"space-y-2 text-center",children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold",children:e("auth.welcome.title","Selamat datang kembali")}),(0,t.jsx)("p",{className:"text-muted-foreground",children:e("auth.welcome.subtitle","Masuk untuk akses dashboard dan fun meter kamu.")})]})}),(0,t.jsx)("p",{className:"mt-auto text-[11px] text-muted-foreground",children:e("auth.welcome.terms","Dengan masuk, kamu setuju pada Ketentuan & Kebijakan Privasi.")})]}),(0,t.jsxs)("div",{className:"relative p-6 md:p-8 bg-muted/40 border-l",children:[(0,t.jsx)(s.AlertDialogHeader,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-widest text-muted-foreground",children:e("auth.account.title","Akun")}),(0,t.jsx)(s.AlertDialogTitle,{className:"sr-only",children:e("auth.account.subtitle","Masuk atau daftar akun baru.")}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:e("auth.account.subtitle","Masuk atau daftar akun baru.")})]}),(0,t.jsx)(i.Button,{type:"button",variant:"ghost",size:"icon",onClick:c,"aria-label":e("common.close","Tutup"),children:(0,t.jsx)(l.Icon,{name:"X",className:"h-4 w-4"})})]})}),(0,t.jsxs)("div",{className:"mt-4 mb-4 rounded-full bg-muted inline-flex p-1 w-full max-w-xs",role:"tablist","aria-label":e("auth.tabs.label","Pilih mode autentikasi"),onKeyDown:e=>{"ArrowLeft"===e.key&&h("login"),"ArrowRight"===e.key&&h("register")},children:[(0,t.jsx)("button",{type:"button",role:"tab","aria-selected":"login"===f,className:`flex-1 rounded-full px-4 py-2 text-sm font-medium ${"login"===f?"bg-background shadow":"text-muted-foreground"}`,onClick:()=>h("login"),onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),h("login"))},children:e("auth.tabs.login","Masuk")}),(0,t.jsx)("button",{type:"button",role:"tab","aria-selected":"register"===f,className:`flex-1 rounded-full px-4 py-2 text-sm font-medium ${"register"===f?"bg-background shadow":"text-muted-foreground"}`,onClick:()=>h("register"),onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),h("register"))},children:e("auth.tabs.register","Daftar")})]}),(0,t.jsxs)("form",{ref:A,onSubmit:C,className:"space-y-4",children:[j?(0,t.jsx)("div",{className:"rounded-md border border-red-500/30 bg-red-500/10 p-2 text-xs text-red-600",children:j}):null,(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:e("auth.fields.username","Nama Pengguna")}),(0,t.jsx)("input",{type:"text",value:p,onChange:e=>g(e.target.value),ref:S,className:`w-full px-3 py-2 border rounded-md ${N.username?"border-red-500 focus-visible:ring-red-500":""}`,placeholder:e("auth.placeholders.username","Masukkan nama pengguna atau email"),required:!0,autoComplete:"username"}),N.username&&(0,t.jsx)("p",{className:"mt-1 text-xs text-red-600",children:N.username})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:e("auth.fields.password","Kata Sandi")}),(0,t.jsx)("input",{type:"password",value:x,onChange:e=>b(e.target.value),className:`w-full px-3 py-2 border rounded-md ${N.password?"border-red-500 focus-visible:ring-red-500":""}`,placeholder:e("auth.placeholders.password","Masukkan kata sandi"),required:!0,autoComplete:"login"===f?"current-password":"new-password"}),N.password&&(0,t.jsx)("p",{className:"mt-1 text-xs text-red-600",children:N.password})]}),"register"===f&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:e("auth.fields.confirmPassword","Konfirmasi Kata Sandi")}),(0,t.jsx)("input",{type:"password",value:v,onChange:e=>y(e.target.value),className:`w-full px-3 py-2 border rounded-md ${N.confirmPassword?"border-red-500 focus-visible:ring-red-500":""}`,placeholder:e("auth.placeholders.confirmPassword","Ulangi kata sandi"),required:!0,autoComplete:"new-password"}),N.confirmPassword&&(0,t.jsx)("p",{className:"mt-1 text-xs text-red-600",children:N.confirmPassword})]}),(0,t.jsx)("div",{className:"pt-2",children:(0,t.jsx)(i.Button,{type:"submit",className:"w-full bg-orange-600 text-white hover:bg-orange-600/90",disabled:F,children:"login"===f?F?e("auth.login.loading","Memproses..."):e("auth.login.submit","Masuk"):F?e("auth.register.loading","Memproses..."):e("auth.register.submit","Daftar")})})]})]})]})})})}e.s(["LoginModal",()=>d])},998183,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n={assign:function(){return o},searchParamsToUrlQuery:function(){return i},urlQueryToSearchParams:function(){return l}};for(var r in n)Object.defineProperty(a,r,{enumerable:!0,get:n[r]});function i(e){let t={};for(let[a,n]of e.entries()){let e=t[a];void 0===e?t[a]=n:Array.isArray(e)?e.push(n):t[a]=[e,n]}return t}function s(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function l(e){let t=new URLSearchParams;for(let[a,n]of Object.entries(e))if(Array.isArray(n))for(let e of n)t.append(a,s(e));else t.set(a,s(n));return t}function o(e,...t){for(let a of t){for(let t of a.keys())e.delete(t);for(let[t,n]of a.entries())e.append(t,n)}return e}},195057,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n={formatUrl:function(){return l},formatWithValidation:function(){return d},urlObjectKeys:function(){return o}};for(var r in n)Object.defineProperty(a,r,{enumerable:!0,get:n[r]});let i=e.r(190809)._(e.r(998183)),s=/https?|ftp|gopher|file/;function l(e){let{auth:t,hostname:a}=e,n=e.protocol||"",r=e.pathname||"",l=e.hash||"",o=e.query||"",d=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?d=t+e.host:a&&(d=t+(~a.indexOf(":")?`[${a}]`:a),e.port&&(d+=":"+e.port)),o&&"object"==typeof o&&(o=String(i.urlQueryToSearchParams(o)));let c=e.search||o&&`?${o}`||"";return n&&!n.endsWith(":")&&(n+=":"),e.slashes||(!n||s.test(n))&&!1!==d?(d="//"+(d||""),r&&"/"!==r[0]&&(r="/"+r)):d||(d=""),l&&"#"!==l[0]&&(l="#"+l),c&&"?"!==c[0]&&(c="?"+c),r=r.replace(/[?#]/g,encodeURIComponent),c=c.replace("#","%23"),`${n}${d}${r}${c}${l}`}let o=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function d(e){return l(e)}},718967,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n={DecodeError:function(){return x},MiddlewareNotFoundError:function(){return j},MissingStaticPage:function(){return y},NormalizeError:function(){return b},PageNotFoundError:function(){return v},SP:function(){return p},ST:function(){return g},WEB_VITALS:function(){return i},execOnce:function(){return s},getDisplayName:function(){return u},getLocationOrigin:function(){return d},getURL:function(){return c},isAbsoluteUrl:function(){return o},isResSent:function(){return m},loadGetInitialProps:function(){return h},normalizeRepeatedSlashes:function(){return f},stringifyError:function(){return w}};for(var r in n)Object.defineProperty(a,r,{enumerable:!0,get:n[r]});let i=["CLS","FCP","FID","INP","LCP","TTFB"];function s(e){let t,a=!1;return(...n)=>(a||(a=!0,t=e(...n)),t)}let l=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,o=e=>l.test(e);function d(){let{protocol:e,hostname:t,port:a}=window.location;return`${e}//${t}${a?":"+a:""}`}function c(){let{href:e}=window.location,t=d();return e.substring(t.length)}function u(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function m(e){return e.finished||e.headersSent}function f(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?`?${t.slice(1).join("?")}`:"")}async function h(e,t){let a=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await h(t.Component,t.ctx)}:{};let n=await e.getInitialProps(t);if(a&&m(a))return n;if(!n)throw Object.defineProperty(Error(`"${u(e)}.getInitialProps()" should resolve to an object. But found "${n}" instead.`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return n}let p="undefined"!=typeof performance,g=p&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class x extends Error{}class b extends Error{}class v extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message=`Cannot find module for page: ${e}`}}class y extends Error{constructor(e,t){super(),this.message=`Failed to load static file for page: ${e} ${t}`}}class j extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function w(e){return JSON.stringify({message:e.message,stack:e.stack})}},573668,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"isLocalURL",{enumerable:!0,get:function(){return i}});let n=e.r(718967),r=e.r(652817);function i(e){if(!(0,n.isAbsoluteUrl)(e))return!0;try{let t=(0,n.getLocationOrigin)(),a=new URL(e,t);return a.origin===t&&(0,r.hasBasePath)(a.pathname)}catch(e){return!1}}},284508,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"errorOnce",{enumerable:!0,get:function(){return n}});let n=e=>{}},522016,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n={default:function(){return x},useLinkStatus:function(){return v}};for(var r in n)Object.defineProperty(a,r,{enumerable:!0,get:n[r]});let i=e.r(190809),s=e.r(843476),l=i._(e.r(271645)),o=e.r(195057),d=e.r(8372),c=e.r(818581),u=e.r(718967),m=e.r(405550);e.r(233525);let f=e.r(91949),h=e.r(573668),p=e.r(565165);function g(e){return"string"==typeof e?e:(0,o.formatUrl)(e)}function x(t){var a;let n,r,i,[o,x]=(0,l.useOptimistic)(f.IDLE_LINK_STATUS),v=(0,l.useRef)(null),{href:y,as:j,children:w,prefetch:N=null,passHref:k,replace:A,shallow:S,scroll:F,onClick:C,onMouseEnter:D,onTouchStart:K,legacyBehavior:P=!1,onNavigate:M,ref:E,unstable_dynamicOnHover:R,...T}=t;n=w,P&&("string"==typeof n||"number"==typeof n)&&(n=(0,s.jsx)("a",{children:n}));let I=l.default.useContext(d.AppRouterContext),O=!1!==N,L=!1!==N?null===(a=N)||"auto"===a?p.FetchStrategy.PPR:p.FetchStrategy.Full:p.FetchStrategy.PPR,{href:B,as:_}=l.default.useMemo(()=>{let e=g(y);return{href:e,as:j?g(j):e}},[y,j]);if(P){if(n?.$$typeof===Symbol.for("react.lazy"))throw Object.defineProperty(Error("`<Link legacyBehavior>` received a direct child that is either a Server Component, or JSX that was loaded with React.lazy(). This is not supported. Either remove legacyBehavior, or make the direct child a Client Component that renders the Link's `<a>` tag."),"__NEXT_ERROR_CODE",{value:"E863",enumerable:!1,configurable:!0});r=l.default.Children.only(n)}let $=P?r&&"object"==typeof r&&r.ref:E,U=l.default.useCallback(e=>(null!==I&&(v.current=(0,f.mountLinkInstance)(e,B,I,L,O,x)),()=>{v.current&&((0,f.unmountLinkForCurrentNavigation)(v.current),v.current=null),(0,f.unmountPrefetchableInstance)(e)}),[O,B,I,L,x]),W={ref:(0,c.useMergedRef)(U,$),onClick(t){P||"function"!=typeof C||C(t),P&&r.props&&"function"==typeof r.props.onClick&&r.props.onClick(t),!I||t.defaultPrevented||function(t,a,n,r,i,s,o){if("undefined"!=typeof window){let d,{nodeName:c}=t.currentTarget;if("A"===c.toUpperCase()&&((d=t.currentTarget.getAttribute("target"))&&"_self"!==d||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which)||t.currentTarget.hasAttribute("download"))return;if(!(0,h.isLocalURL)(a)){i&&(t.preventDefault(),location.replace(a));return}if(t.preventDefault(),o){let e=!1;if(o({preventDefault:()=>{e=!0}}),e)return}let{dispatchNavigateAction:u}=e.r(699781);l.default.startTransition(()=>{u(n||a,i?"replace":"push",s??!0,r.current)})}}(t,B,_,v,A,F,M)},onMouseEnter(e){P||"function"!=typeof D||D(e),P&&r.props&&"function"==typeof r.props.onMouseEnter&&r.props.onMouseEnter(e),I&&O&&(0,f.onNavigationIntent)(e.currentTarget,!0===R)},onTouchStart:function(e){P||"function"!=typeof K||K(e),P&&r.props&&"function"==typeof r.props.onTouchStart&&r.props.onTouchStart(e),I&&O&&(0,f.onNavigationIntent)(e.currentTarget,!0===R)}};return(0,u.isAbsoluteUrl)(_)?W.href=_:P&&!k&&("a"!==r.type||"href"in r.props)||(W.href=(0,m.addBasePath)(_)),i=P?l.default.cloneElement(r,W):(0,s.jsx)("a",{...T,...W,children:n}),(0,s.jsx)(b.Provider,{value:o,children:i})}e.r(284508);let b=(0,l.createContext)(f.IDLE_LINK_STATUS),v=()=>(0,l.useContext)(b);("function"==typeof a.default||"object"==typeof a.default&&null!==a.default)&&void 0===a.default.__esModule&&(Object.defineProperty(a.default,"__esModule",{value:!0}),Object.assign(a.default,a),t.exports=a.default)},199765,e=>{"use strict";var t=e.i(843476),a=e.i(271645),n=e.i(618566),r=e.i(977324),i=e.i(522016),s=e.i(469701),l=e.i(567150),o=e.i(70051),d=e.i(167881),c=e.i(647163);let u=(0,a.createContext)(null);function m({children:e}){let[n,r]=(0,a.useState)(!1),[i,s]=(0,a.useState)(!0),[l,o]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{let e=()=>{let e=window.innerWidth<1024;r(e),l?n!==e&&s(!e):(s(!e),o(!0))};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[n,l]),(0,t.jsx)(u.Provider,{value:{isOpen:i,setIsOpen:s,toggle:()=>s(!i),isMobile:n},children:e})}function f(){let e=(0,a.useContext)(u);if(!e)throw Error("useSidebar must be used within SidebarProvider");return e}function h({className:e,...a}){let{toggle:n}=f();return(0,t.jsx)("button",{className:(0,c.cn)("inline-flex items-center justify-center rounded-md p-2 text-sm font-medium ring-offset-background transition-colors hover:bg-accent hover:text-accent-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),onClick:n,...a,children:(0,t.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})}function p({navItems:e}){let a=(0,n.usePathname)(),{user:i,openModal:u,logout:m}=(0,r.useAuth)(),{t:h}=(0,s.useI18n)(),{openModal:p}=(0,l.useSettings)(),{isOpen:x,setIsOpen:b,isMobile:v}=f(),y=(e,t,a)=>h(`aside.${e}`,t,a),j=e=>e.to.startsWith("/admin"),w=e.filter(e=>!j(e)),N=e.filter(j),k=i?.username||i?.name||"",A=function(e){let t=String(e||"").replace(/_/g," ").replace(/\s+/g," ").trim();if(!t)return"??";let a=t.split(" ").filter(Boolean),n=e=>e.charAt(0)?.toUpperCase()||"";return a.length>=2?n(a[0])+n(a[1]):n(a[0])}(k);return(0,t.jsxs)(t.Fragment,{children:[v&&x&&(0,t.jsx)("div",{className:"fixed inset-0 z-40 bg-black/50 lg:hidden animate-in fade-in duration-300",onClick:()=>b(!1),"aria-hidden":"true"}),(0,t.jsxs)("div",{className:(0,c.cn)("flex h-svh flex-col border-r bg-sidebar text-sidebar-foreground overflow-hidden transition-all duration-300 ease-in-out will-change-[width,transform]",v?["fixed top-0 left-0 z-50",x?"translate-x-0 w-64":"-translate-x-full w-64"]:["sticky top-0 pl-0.5",x?"w-64":"w-14"]),children:[(0,t.jsx)("div",{className:(0,c.cn)("flex h-16 items-center border-b transition-all duration-300 ease-in-out",x?"px-4":"justify-center px-0"),children:(0,t.jsxs)("div",{className:(0,c.cn)("flex items-center transition-all duration-300 ease-in-out",x?"gap-2":"gap-0"),children:[(0,t.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-primary text-primary-foreground",children:(0,t.jsx)(o.Icon,{name:"Smile",className:"h-4 w-4"})}),(0,t.jsx)("span",{className:(0,c.cn)("font-semibold truncate transition-all duration-300 ease-in-out will-change-[opacity,width]",x?"opacity-100 w-auto":"opacity-0 w-0 overflow-hidden"),"aria-hidden":!x,children:y("brand.title","Absensi Wajah")})]})}),(0,t.jsxs)("div",{className:"flex-1 overflow-auto p-4",children:[w.length>0&&(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h3",{className:(0,c.cn)("px-2 text-xs font-semibold uppercase tracking-wide text-sidebar-foreground/70 transition-all duration-300 ease-in-out will-change-[opacity,height]",x?"mb-2 opacity-100 h-auto":"mb-0 opacity-0 h-0 overflow-hidden"),"aria-hidden":!x,children:y("groups.main","Menu Utama")}),(0,t.jsx)("nav",{className:"space-y-1",children:w.map(e=>(0,t.jsx)(g,{item:e,isActive:a===e.to,t:h,collapsed:!x},e.to))})]}),N.length>0&&(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h3",{className:(0,c.cn)("px-2 text-xs font-semibold uppercase tracking-wide text-sidebar-foreground/70 transition-all duration-300 ease-in-out will-change-[opacity,height]",x?"mb-2 opacity-100 h-auto":"mb-0 opacity-0 h-0 overflow-hidden"),"aria-hidden":!x,children:y("groups.admin","Admin")}),(0,t.jsx)("nav",{className:"space-y-1",children:N.map(e=>(0,t.jsx)(g,{item:e,isActive:a===e.to,t:h,collapsed:!x},e.to))})]})]}),(0,t.jsxs)("div",{className:(0,c.cn)("border-t transition-all duration-300 ease-in-out",x?"p-4":"p-2"),children:[(0,t.jsxs)(d.Button,{variant:"ghost",className:(0,c.cn)("mb-2 w-full transition-all duration-300 ease-in-out",x?"justify-start":"justify-center px-0"),onClick:p,"aria-label":y("actions.openSettings","Buka Pengaturan"),title:y("actions.openSettings","Buka Pengaturan"),children:[(0,t.jsx)(o.Icon,{name:"Settings",className:(0,c.cn)("h-4 w-4 transition-all duration-300 ease-in-out",x&&"mr-2")}),(0,t.jsx)("span",{className:(0,c.cn)("truncate transition-all duration-300 ease-in-out will-change-[opacity,width]",x?"opacity-100 w-auto":"opacity-0 w-0 overflow-hidden"),"aria-hidden":!x,children:y("actions.openSettings","Buka Pengaturan")})]}),i?(0,t.jsxs)("div",{className:(0,c.cn)("transition-all duration-300 ease-in-out",x?"space-y-2":"space-y-0"),children:[x?(0,t.jsxs)("div",{className:"flex items-center gap-2 rounded-lg bg-sidebar-accent p-2",children:[(0,t.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-primary text-primary-foreground text-sm",children:A}),(0,t.jsx)("div",{className:"flex-1 text-sm",children:(0,t.jsx)("div",{className:"font-semibold truncate",children:k})})]}):(0,t.jsx)("div",{className:"flex items-center justify-center",children:(0,t.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-primary text-primary-foreground text-sm",children:A})}),(0,t.jsxs)(d.Button,{variant:"ghost",size:"sm",className:(0,c.cn)("w-full transition-all duration-300 ease-in-out",x?"justify-start":"justify-center px-0"),onClick:m,"aria-label":h("avatar.menu.logout","Sign out"),title:h("avatar.menu.logout","Sign out"),children:[(0,t.jsx)(o.Icon,{name:"LogOut",className:(0,c.cn)("h-4 w-4 transition-all duration-300 ease-in-out",x&&"mr-2")}),(0,t.jsx)("span",{className:(0,c.cn)("truncate transition-all duration-300 ease-in-out will-change-[opacity,width]",x?"opacity-100 w-auto":"opacity-0 w-0 overflow-hidden"),"aria-hidden":!x,children:h("avatar.menu.logout","Sign out")})]})]}):(0,t.jsxs)(d.Button,{variant:"ghost",size:"sm",className:(0,c.cn)("w-full transition-all duration-300 ease-in-out",x?"justify-start":"justify-center px-0"),onClick:()=>u(),"aria-label":h("avatar.menu.login","Sign in"),title:h("avatar.menu.login","Sign in"),children:[(0,t.jsx)(o.Icon,{name:"LogIn",className:(0,c.cn)("h-4 w-4 transition-all duration-300 ease-in-out",x&&"mr-2")}),(0,t.jsx)("span",{className:(0,c.cn)("truncate transition-all duration-300 ease-in-out will-change-[opacity,width]",x?"opacity-100 w-auto":"opacity-0 w-0 overflow-hidden"),"aria-hidden":!x,children:h("avatar.menu.login","Sign in")})]})]})]})]})}function g({item:e,isActive:a,t:n,collapsed:r}){var s;let{setIsOpen:l,isMobile:d}=f(),u=n(e.labelKey||"",e.labelFallback||e.name),m=()=>{d&&l(!1)};return(s=e.to,/^https?:\/\//.test(s))?(0,t.jsxs)("a",{href:e.to,target:"_blank",rel:"noopener noreferrer",onClick:m,className:(0,c.cn)("flex items-center rounded-lg px-2 py-2 text-sm transition-all duration-300 ease-in-out","hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",a&&"bg-sidebar-accent text-sidebar-accent-foreground",r?"justify-center px-0 gap-0":"gap-2"),children:[(0,t.jsx)(o.Icon,{name:e.icon,className:"h-4 w-4"}),(0,t.jsx)("span",{className:(0,c.cn)("truncate transition-all duration-300 ease-in-out will-change-[opacity,width]",r?"opacity-0 w-0 overflow-hidden":"opacity-100 w-auto"),"aria-hidden":r,children:u})]}):(0,t.jsxs)(i.default,{href:e.to,onClick:m,className:(0,c.cn)("flex items-center rounded-lg px-2 py-2 text-sm transition-all duration-300 ease-in-out","hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",a&&"bg-sidebar-accent text-sidebar-accent-foreground",r?"justify-center px-0 gap-0":"gap-2"),children:[(0,t.jsx)(o.Icon,{name:e.icon,className:"h-4 w-4"}),(0,t.jsx)("span",{className:(0,c.cn)("truncate transition-all duration-300 ease-in-out will-change-[opacity,width]",r?"opacity-0 w-0 overflow-hidden":"opacity-100 w-auto"),"aria-hidden":r,children:u})]})}var x=e.i(305622);let b={"/home":{titleKey:"pages.attendanceFunMeter.title",titleFallback:"Face Recognition",navKey:"nav.attendanceFunMeter",navFallback:"Absensi Fun Meter"},"/attendance":{titleKey:"pages.attendance.title",titleFallback:"Absensi",navKey:"nav.attendance",navFallback:"Absensi"},"/fun-meter":{titleKey:"pages.funMeter.title",titleFallback:"Fun Meter",navKey:"nav.funMeter",navFallback:"Fun Meter"},"/absensi-fun-meter":{titleKey:"pages.attendanceFunMeter.title",titleFallback:"Absensi Fun Meter",navKey:"nav.attendanceFunMeter",navFallback:"Absensi Fun Meter"},"/register-face":{titleKey:"pages.registerFace.title",titleFallback:"Daftar Wajah",navKey:"nav.registerFace",navFallback:"Daftar Wajah"},"/admin/dashboard":{titleKey:"pages.adminDashboard.title",titleFallback:"Dashboard Admin",navKey:"nav.adminDashboard",navFallback:"Dashboard Admin"},"/admin/list-members":{titleKey:"pages.adminRegisterDb.title",titleFallback:"DB Wajah Admin",navKey:"nav.adminRegisterDb",navFallback:"DB Wajah Admin"},"/admin/schedule":{titleKey:"pages.adminSchedule.title",titleFallback:"Jadwal Admin",navKey:"nav.adminSchedule",navFallback:"Jadwal Admin"},"/admin/attendance":{titleKey:"pages.adminAttendance.title",titleFallback:"Absensi Admin",navKey:"nav.adminAttendance",navFallback:"Absensi Admin"},"/admin/attendance-summary":{titleKey:"pages.adminAttendanceSummary.title",titleFallback:"Ringkasan Absensi",navKey:"nav.adminAttendanceSummary",navFallback:"Ringkasan Absensi"},"/admin/users":{titleKey:"pages.adminUsers.title",titleFallback:"Manajemen Pengguna",navKey:"nav.adminUsers",navFallback:"Manajemen Pengguna"},"/admin/config":{titleKey:"pages.adminConfig.title",titleFallback:"Konfigurasi Sistem",navKey:"nav.adminConfig",navFallback:"Konfigurasi Sistem"}};function v({hidden:e=!1,onHeightChange:r}){let l=(0,n.usePathname)(),{t:d}=(0,s.useI18n)(),u=(0,a.useRef)(null),{isDark:m,toggleTheme:f}=(0,x.useTheme)();(0,a.useEffect)(()=>{let e=()=>{let e=u.current?.getBoundingClientRect()?.height;e&&r&&r(Math.round(e))};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[r]);let p=l.startsWith("/admin")?d("header.breadcrumb.admin","Admin"):d("header.breadcrumb.website","Website"),g=b[l]||{},v=g.titleKey||g.navKey,y=g.titleFallback||g.navFallback||d("header.title.default","Pengenalan Wajah"),j=v?d(v,y):y,w=(0,c.cn)("sticky top-0 z-40 border-b bg-background/80 backdrop-blur supports-[backdrop-filter]:bg-background/60 transition-all",e?"-translate-y-full opacity-0":"translate-y-0 opacity-100");return(0,t.jsx)("div",{ref:u,className:w,children:(0,t.jsxs)("div",{className:"flex h-14 items-center gap-2 px-3 sm:h-16 sm:px-4",children:[(0,t.jsx)(h,{className:"inline-flex lg:hidden","aria-label":d("header.actions.openNavigation","Buka navigasi")}),(0,t.jsx)("div",{className:"hidden items-center lg:flex",children:(0,t.jsx)(h,{})}),(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("p",{className:"text-[11px] uppercase tracking-widest text-muted-foreground",children:p}),(0,t.jsx)("h1",{className:"truncate text-base font-semibold sm:text-lg",children:j})]}),(0,t.jsx)("div",{className:"ml-auto flex items-center gap-2",children:(0,t.jsxs)(i.default,{href:"/",className:"hidden sm:inline-flex items-center gap-2 rounded-md border px-2.5 py-1.5 text-xs font-medium hover:bg-accent hover:text-accent-foreground",children:[(0,t.jsx)(o.Icon,{name:"Radio",className:"h-4 w-4"}),(0,t.jsx)("span",{children:d("header.actions.live","Langsung")})]})})]})})}let y=[{path:"/home",name:"home",icon:"Home",meta:{titleKey:"pages.home.title",navKey:"nav.home",titleFallback:"Beranda",navFallback:"Beranda"}},{path:"/attendance",name:"attendance",icon:"IdCard",meta:{titleKey:"pages.attendance.title",navKey:"nav.attendance",titleFallback:"Absensi",navFallback:"Absensi"}},{path:"/fun-meter",name:"funMeter",icon:"Smile",meta:{titleKey:"pages.funMeter.title",navKey:"nav.funMeter",titleFallback:"Fun Meter",navFallback:"Fun Meter"}},{path:"/absensi-fun-meter",name:"attendanceFunMeter",icon:"Camera",meta:{titleKey:"pages.attendanceFunMeter.title",navKey:"nav.attendanceFunMeter",titleFallback:"Absensi Fun Meter",navFallback:"Absensi Fun Meter"}},{path:"/register-face",name:"registerFace",icon:"UserPlus",meta:{titleKey:"pages.registerFace.title",navKey:"nav.registerFace",titleFallback:"Daftar Wajah",navFallback:"Daftar Wajah"}},{path:"/admin/dashboard",name:"adminDashboard",icon:"LayoutDashboard",meta:{titleKey:"pages.adminDashboard.title",navKey:"nav.adminDashboard",titleFallback:"Dashboard Admin",navFallback:"Dashboard Admin",requiresAdmin:!0}},{path:"/admin/list-members",name:"adminRegisterDb",icon:"Database",meta:{titleKey:"pages.adminRegisterDb.title",navKey:"nav.adminRegisterDb",titleFallback:"DB Wajah Admin",navFallback:"DB Wajah Admin",requiresAdmin:!0}},{path:"/admin/schedule",name:"adminSchedule",icon:"Clock",meta:{titleKey:"pages.adminSchedule.title",navKey:"nav.adminSchedule",titleFallback:"Jadwal Admin",navFallback:"Jadwal Admin",requiresAdmin:!0}},{path:"/admin/attendance",name:"adminAttendance",icon:"ClipboardList",meta:{titleKey:"pages.adminAttendance.title",navKey:"nav.adminAttendance",titleFallback:"Absensi Admin",navFallback:"Absensi Admin",requiresAdmin:!0}},{path:"/admin/attendance-summary",name:"adminAttendanceSummary",icon:"BarChart3",meta:{titleKey:"pages.adminAttendanceSummary.title",navKey:"nav.adminAttendanceSummary",titleFallback:"Ringkasan Absensi",navFallback:"Ringkasan Absensi",requiresAdmin:!0}},{path:"/admin/users",name:"adminUsers",icon:"Users",meta:{titleKey:"pages.adminUsers.title",navKey:"nav.adminUsers",titleFallback:"Manajemen Pengguna",navFallback:"Manajemen Pengguna",requiresAdmin:!0}},{path:"/admin/config",name:"adminConfig",icon:"Settings2",meta:{titleKey:"pages.adminConfig.title",navKey:"nav.adminConfig",titleFallback:"Konfigurasi Sistem",navFallback:"Konfigurasi Sistem",requiresOwner:!0}}];function j(e){return{name:e.name,to:e.path,icon:e.icon,labelKey:e.meta?.navKey,labelFallback:e.meta?.navFallback??e.meta?.titleFallback??e.name}}function w({children:e}){let i=(0,n.usePathname)(),{user:s}=(0,r.useAuth)(),l="/"===i||i.startsWith("/absensi-fun-meter"),o=a.default.useMemo(()=>{let e=y.filter(e=>e.icon&&!e.path.startsWith("/admin")).map(j),t=y.filter(e=>e.icon&&e.path.startsWith("/admin")).map(j),a=[...e];return s?.is_admin&&t.forEach(e=>{let t=y.find(t=>t.path===e.to);(!t?.meta?.requiresOwner||s?.is_owner)&&(a.some(t=>t.to===e.to)||a.push(e))}),a},[s]);return l?(0,t.jsx)("div",{className:"min-h-svh bg-background text-foreground",children:(0,t.jsx)("div",{className:"h-full",children:e})}):(0,t.jsx)("div",{className:"min-h-svh bg-background text-foreground",children:(0,t.jsx)("div",{className:"flex min-h-svh",children:(0,t.jsxs)(m,{children:[(0,t.jsx)(p,{navItems:o}),(0,t.jsxs)("div",{className:"flex min-h-svh flex-1 min-w-0 flex-col",children:[(0,t.jsx)(v,{}),(0,t.jsx)("main",{className:"flex-1 w-full overflow-auto",children:(0,t.jsx)("div",{className:"w-full px-4 py-4 sm:px-6 lg:px-10",children:e})})]})]})})})}e.s(["AppShell",()=>w],199765)}]);